Table users {
  id        bigint [pk, increment]
  name      text
  email     text [unique]
  is_active boolean [default: true]
  metadata  jsonb
  created_at timestamp [default: `now()`]
}

Table categories {
  id   smallint [pk, increment]
  name text [unique]
}

Table products {
  id          bigint [pk, increment]
  name        text
  sku         text [unique]
  category_id smallint [not null]
  price       numeric(10,2)
  tags        text[] [default: "{}"]
  description text
  created_at  timestamp [default: `now()`]
}

Table orders {
  id           bigint [pk, increment]
  user_id      bigint [not null]
  status       text
  created_at   timestamp [default: `now()`]
  total_amount numeric(12,2) [default: 0]
}

Table order_items {
  id         bigint [pk, increment]
  order_id   bigint [not null]
  product_id bigint [not null]
  quantity   int
  unit_price numeric(10,2)
}

Table payments {
  id       bigint [pk, increment]
  order_id bigint [not null]
  amount   numeric(12,2)
  paid_at  timestamp [default: `now()`]
  method   text
  meta     jsonb
}

Table reviews {
  id         bigint [pk, increment]
  user_id    bigint [not null]
  product_id bigint [not null]
  rating     smallint
  comment    text
  created_at timestamp [default: `now()`]
}

Ref: products.category_id > categories.id
Ref: orders.user_id > users.id
Ref: order_items.order_id > orders.id
Ref: order_items.product_id > products.id
Ref: payments.order_id > orders.id
Ref: reviews.user_id > users.id
Ref: reviews.product_id > products.id
